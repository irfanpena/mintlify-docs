---
title: Perception with Raven
sidebarTitle: Perception
description: Learn how to configure the perception layer with Raven.
---

The **Perception Layer** in Tavus enhances AI personas with real-time visual understanding.
By using [**Raven**](/sections/models#raven%3A-perception-model), your replica becomes more context-aware, responsive, and capable of triggering actions based on what it sees.

## Configuring the Perception Layer

### 1. `perception_model`

Tavus supports two models: `basic` (a legacy model) and `raven-0` (the default and recommended choice). Use `raven-0` for advanced visual capabilities, including screen share support, ambient queries, and perception tools.
`off` to disable the perception layer.
<Note>
**Screen Share Feature**:When using `raven-0`, screen share feature is enabled by default without additional configuration.
</Note>

```json
"layers": {
  "perception": {
    "perception_model": "raven-0"
  }
}
```

### 2. `ambient_awareness_queries`
Use this field to define the custom queries `raven-0` should always monitor for in the visual stream.
<Tip>
Best practices for custom queries:
- Use simple, focused prompts.
- Use queries that support your persona’s purpose.
- Raven already detects emotion and identity. Only add what’s missing.
</Tip>
```json
"ambient_awareness_queries": [
  "Is the user wearing a bright outfit?"
]
```

### 3. `perception_tool_prompt`

Tell `raven-0` when and how to trigger tools based on what it sees.
```json
"perception_tool_prompt":
  "You have a tool to notify the system when a bright outfit is detected, named `notify_if_bright_outfit_shown`. You MUST use this tool when a bright outfit is detected."
```

### 4. `perception_tools`

These callable functions can be triggered by `raven-0` when specific visual conditions are met.
```json
"perception_tools": [
  {
    "type": "function",
    "function": {
      "name": "notify_if_bright_outfit_shown",
      "description": "Use this function when a bright outfit is detected in the image with high confidence",
      "parameters": {
        "type": "object",
        "properties": {
          "outfit_color": {
            "type": "string",
            "description": "Best guess on what color of outfit it is"
          }
        },
        "required": ["outfit_color"]
      }
    }
  }
]
```

<Note>
Perception tools require both a `type` and `properties` field.
</Note>

### End-of-call Perception Analysis

`raven-0` generates a visual summary at the end of a call. This summary includes all detected visual artifacts and can be sent as:

- A [Perception Analysis](https://docs.tavus.io/sections/event-schemas/conversation-perception-analysis) event

- A [conversation callback](https://docs.tavus.io/sections/conversational-video-interface/conversation-callbacks) (if specified)

## Example Use Case

This persona identifies when a user wears a bright outfit and triggers an internal action.
<Tip>
**Recommendation:**

Use the full **CVI end-to-end pipeline** for optimal performance and lowest latency.
</Tip>
```bash
curl -X POST https://tavusapi.com/v2/personas \
  -H "x-api-key: <YOUR_API_KEY>" \
  -H "Content-Type: application/json" \
  -d '{
    "persona_name": "Fashion Advisor",
    "system_prompt": "As a Fashion Advisor, you specialize in offering tailored fashion advice.",
    "pipeline_mode": "full",
    "context": "You're having a video conversation with a client about their outfit.",
    "default_replica_id": "r79e1c033f",
    "layers": {
      "perception": {
        "perception_model": "raven-0",
        "ambient_awareness_queries": [
          "Is the user wearing a bright outfit?"
        ],
        "perception_tool_prompt":
          "You have a tool to notify the system when a bright outfit is detected, named `notify_if_bright_outfit_shown`. You MUST use this tool when a bright outfit is detected.",
        "perception_tools": [
          {
            "type": "function",
            "function": {
              "name": "notify_if_bright_outfit_shown",
              "description": "Use this function when a bright outfit is detected in the image with high confidence",
              "parameters": {
                "type": "object",
                "properties": {
                  "outfit_color": {
                    "type": "string",
                    "description": "Best guess on what color of outfit it is"
                  }
                },
                "required": ["outfit_color"]
              }
            }
          }
        ]
      },
      "stt": {
        "stt_engine": "tavus-advanced",
        "participant_pause_sensitivity": "high",
        "participant_interrupt_sensitivity": "high",
        "smart_turn_detection": true
      }
    }
  }'
```
<Note>
Please see the [Create a Persona](https://docs.tavus.io/api-reference/personas/create-persona) endpoint for more details.
</Note>


